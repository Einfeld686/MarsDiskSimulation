{"id": "blowout_core_eid_v1", "title": "ブローアウト関連（β, a_blow, t_blow）", "description": "gas-poor かつ火星放射のみを前提に β=0.5 境界と t_blow=1/Omega を使う。Q_pr テーブルの屈折率ソース・粒子形状・波長グリッドを記録し、fast_blowout 補正の適用条件を明示する。", "scope": "toggle", "eq_ids": ["E.007", "E.013", "E.014"], "assumption_tags": ["gas-poor", "0D", "rp_mars_only", "t_blow_eq_1_over_Omega"], "config_keys": ["blowout.enabled", "radiation.source", "radiation.TM_K", "radiation.qpr_table_path", "io.correct_fast_blowout", "numerics.dt_init"], "code_path": ["marsdisk/grid.py:17-49", "marsdisk/physics/radiation.py:120-146"], "run_stage": ["surface loop"], "provenance": {"source_kind": "equation", "paper_key": "Burns1979_Icarus40_1", "unknown_slug": null, "note": "β=0.5 境界は Pawellek & Krivov 2015 の実装例を参照。Q_pr テーブルの光学定数・形状・波長グリッドを必ず記録する。", "type": "literature"}, "tests": ["tests/integration/test_fast_blowout.py", "tests/integration/test_scalings.py"], "outputs": ["series.a_blow", "series.t_blow", "summary.beta_at_smin_config"], "status": "draft", "last_checked": "2025-12-12"}
{"id": "shielding_gate_order_v1", "title": "遮蔽・ゲート（Φ(τ, ω0, g), τ=1 クリップ, gate_mode）", "description": "Φテーブル補間と τ=1 クリップの適用順が shielding.mode と blowout.gate_mode に依存し、tau_gate との重ねがけ順序がコード依存のまま。two-stream/delta-Eddington など Φ 近似名を明示し、f_gate が衝突・昇華どちらと競合するかを整理する。", "scope": "toggle", "eq_ids": ["E.015", "E.016", "E.017", "E.031"], "assumption_tags": ["gas-poor", "tau_gate_optional", "surface_tau_le_1"], "config_keys": ["shielding.mode", "shielding.table_path", "shielding.fixed_tau1_tau", "shielding.fixed_tau1_sigma", "radiation.tau_gate.enable", "blowout.gate_mode", "surface.freeze_sigma"], "code_path": ["marsdisk/physics/shielding.py:81-216", "marsdisk/run_zero_d.py:1475-1518", "marsdisk/run_zero_d.py:968-1116"], "run_stage": ["shielding application", "surface loop (gate evaluation)"], "provenance": {"source_kind": "equation", "paper_key": "TakeuchiLin2003_ApJ593_524", "unknown_slug": null, "note": "Φ テーブルは two-stream/delta-Eddington 系の近似を想定。ゲート適用順序は実装依存。", "type": "impl_choice"}, "tests": ["tests/integration/test_blowout_gate.py", "tests/integration/test_radiation_shielding_logging.py"], "outputs": ["series.kappa_eff", "series.sigma_tau1", "diagnostics.tau_gate_blocked", "summary.radiation_tau_gate"], "status": "draft", "last_checked": "2025-12-12"}
{"id": "psd_wavy_floor_scope_v1", "title": "PSD と wavy 補正（s_min_effective, psd.floor.mode）", "description": "wavy_strength と最小粒径のクリップ（ブローアウト/設定/動的床）が混在するため、P1 式と優先順位を明示する。wavy_strength=0 で波を抑止する仕様を含め、振幅は実装選択として扱う。", "scope": "module_default", "eq_ids": ["E.008"], "assumption_tags": ["gas-poor", "wavy_optional", "smin_clipped_by_blowout"], "config_keys": ["psd.wavy_strength", "psd.floor.mode", "sizes.s_min", "sizes.evolve_min_size", "sizes.dsdt_model", "sizes.apply_evolved_min_size"], "code_path": ["marsdisk/physics/psd.py:149-219", "marsdisk/physics/psd.py:30-146", "marsdisk/run_zero_d.py:1075-1109"], "run_stage": ["PSD initialisation", "PSD evolution hooks"], "provenance": {"source_kind": "equation", "paper_key": "Krivov2006_AA455_509", "unknown_slug": null, "note": "wavy_strength 振幅は impl_choice。", "type": "impl_choice"}, "tests": ["tests/integration/test_min_size_evolution_hook.py", "tests/integration/test_psd_kappa.py", "tests/integration/test_surface_outflux_wavy.py"], "outputs": ["series.kappa", "series.s_min_effective", "series.s_min_floor_dynamic", "diagnostics.wavy_params"], "status": "draft", "last_checked": "2025-12-12"}
{"id": "tcoll_regime_switch_v1", "title": "衝突時間スケール（Wyatt / Ohtsuki regime）", "description": "表層 ODE の t_coll は Wyatt スケーリング (Omega*tau^-1) を既定にしつつ、高 τ では Ω^-1 上限を安全策として用いる。Smol カーネル併用や f_wake による切替条件を明示する。", "scope": "module_default", "eq_ids": ["E.006", "E.007"], "assumption_tags": ["wyatt_scaling", "optional_collisions", "0D"], "config_keys": ["surface.use_tcoll", "dynamics.f_wake", "dynamics.e0", "dynamics.i0", "numerics.dt_init"], "code_path": ["marsdisk/physics/surface.py:96-163", "marsdisk/run_zero_d.py:1036-1109"], "run_stage": ["surface loop"], "provenance": {"source_kind": "equation", "paper_key": "Wyatt2008", "unknown_slug": null, "note": "t_coll law は文献由来、Ω^-1 上限と regime 切替は impl_choice safety。", "type": "impl_choice"}, "tests": ["tests/integration/test_phase3_surface_blowout.py", "tests/integration/test_scalings.py"], "outputs": ["series.t_coll", "diagnostics.ts_ratio", "summary.phase_branching.t_coll_stats"], "status": "draft", "last_checked": "2025-12-12"}
{"id": "sublimation_gasdrag_scope_v1", "title": "昇華・ガス抗力（sinks.mode, rp_blowout.enable, TL2003）", "description": "gas-poor 既定で昇華のみ有効化し、TL2003(gas-rich)は ALLOW_TL2003=false とする運用。ガス抗力密度の閾値や Pollack–Burns–Tauber (1979) を drag の根拠として使う一方、昇華 ds/dt はヘルツ＝クヌーセン式（例: Markkanen 2020）を参照することを明記する。", "scope": "toggle", "eq_ids": ["E.018", "E.019", "E.036", "E.037", "E.038"], "assumption_tags": ["gas-poor", "TL2003_disabled", "sublimation_default"], "config_keys": ["sinks.mode", "sinks.enable_sublimation", "sinks.enable_gas_drag", "sinks.rho_g", "sinks.rp_blowout.enable", "radiation.use_mars_rp"], "code_path": ["marsdisk/physics/sinks.py:34-160", "marsdisk/physics/sublimation.py:534-584", "marsdisk/run_zero_d.py:986-1109"], "run_stage": ["sink selection", "surface loop"], "provenance": {"source_kind": "equation", "paper_key": "TakeuchiLin2002_ApJ581_1344", "unknown_slug": null, "note": "TL2003 は gas-rich 感度試験時のみ。ガス抗力の根拠と昇華 ds/dt の根拠を分離する。", "type": "impl_choice"}, "tests": ["tests/integration/test_phase_branching_run.py", "tests/integration/test_sinks_none.py", "tests/integration/test_sublimation_phase_gate.py"], "outputs": ["series.t_sink", "diagnostics.sink_selected", "summary.sublimation_provenance"], "status": "draft", "last_checked": "2025-12-12"}
{"id": "radius_fix_0d_scope_v1", "title": "半径・幾何の固定（0D vs disk.geometry）", "description": "0D 実行では disk.geometry の半径入力のみを許容し、legacy geometry.r/runtime_orbital_radius_rm を排除する。代表半径で 1D 拡張前を代理する実装前提をタグ付けする。", "scope": "module_default", "eq_ids": ["E.001", "E.002"], "assumption_tags": ["0D", "fixed_radius", "inner_disk_scope"], "config_keys": ["geometry.mode", "disk.geometry.r_in_RM", "disk.geometry.r_out_RM"], "code_path": ["marsdisk/config_utils.py:14-43", "marsdisk/grid.py:17-49", "marsdisk/run_zero_d.py:966-1016", "marsdisk/schema.py:22-75"], "run_stage": ["config loading", "orbital grid initialisation"], "provenance": {"source_kind": "equation", "paper_key": "Wyatt2008", "unknown_slug": null, "note": "single-annulus を代表半径で解く前提は実装選択。", "type": "impl_choice"}, "tests": ["tests/integration/test_run_regressions.py", "tests/integration/test_scope_limitations_metadata.py"], "outputs": ["summary.runtime_orbital_radius_m", "run_config.runtime_orbital_radius_rm"], "status": "draft", "last_checked": "2025-12-12"}
{"id": "ops:gas_poor_default", "title": "gas-poor 既定前提", "description": "火星ロッシュ円盤を gas-poor とするプロジェクト既定。TL2003 系ガスリッチ式は ALLOW_TL2003=false 時に無効とする。", "scope": "project_default", "eq_ids": [], "assumption_tags": ["ops:gas_poor_default", "geometry:thin_disk"], "config_keys": ["radiation.ALLOW_TL2003", "radiation.use_mars_rp", "sinks.enable_gas_drag"], "code_path": ["analysis/overview.md:9-11", "analysis/run-recipes.md:1-5"], "run_stage": ["physics_controls"], "provenance": {"source_kind": "config", "paper_key": "Hyodo2018_ApJ860_150", "unknown_slug": null, "note": "gas-poor default per overview", "type": "literature"}, "tests": [], "outputs": [], "status": "draft", "last_checked": "2025-12-12"}
{"id": "radiative_cooling_tmars", "title": "火星放射冷却・灰色体温度", "description": "Hyodo+ に基づく radiative slab 冷却と灰色体粒子温度を適用する仮定。", "scope": "module_default", "eq_ids": ["E.042", "E.043"], "assumption_tags": ["radiation:tmars_graybody", "ops:gas_poor_default"], "config_keys": ["radiation.TM_K", "mars_temperature_driver.constant"], "code_path": ["siO2_disk_cooling/siO2_cooling_map.py:117-139"], "run_stage": ["physics_controls"], "provenance": {"source_kind": "equation", "paper_key": "Hyodo2018_ApJ860_150", "unknown_slug": null, "note": null, "type": "literature"}, "tests": [], "outputs": ["summary.T_M_used"], "status": "draft", "last_checked": "2025-12-12"}
{"id": "viscosity_c5_optional", "title": "半径拡散（C5）の任意適用", "description": "Crida & Charnoz 型の粘性拡散（C5）をオプション扱いとし、0D では通常無効とする。", "scope": "toggle", "eq_ids": [], "assumption_tags": ["diffusion_optional", "C5"], "config_keys": ["viscosity.enabled"], "code_path": ["marsdisk/physics/viscosity.py:51-134"], "run_stage": ["smol_kernel"], "provenance": {"source_kind": "config", "paper_key": "CridaCharnoz2012_Science338_1196", "unknown_slug": null, "note": null, "type": "impl_choice"}, "tests": [], "outputs": [], "status": "draft", "last_checked": "2025-12-12"}
{"id": "ops:qpr_table_generation", "title": "Q_pr テーブル生成とチェック", "description": "Planck 平均 Q_pr を ops スクリプトで前計算し、放射圧評価に用いる。屈折率ソース・粒子形状・波長グリッド・Mie solver を明示し、テーブルの来歴を run_card に残す。", "scope": "module_default", "eq_ids": [], "assumption_tags": ["ops:qpr_table"], "config_keys": ["radiation.qpr_table_path"], "code_path": ["marsdisk/ops/make_qpr_table.py:40-78", "marsdisk/ops/physcheck.py:198-210"], "run_stage": ["prep"], "provenance": {"source_kind": "config", "paper_key": null, "unknown_slug": "assumption:qpr_table_provenance", "note": "光学定数・形状・ミー計算条件の出典を追記する", "type": "data_source"}, "tests": [], "outputs": [], "status": "needs_ref", "last_checked": "2025-12-12"}
{"id": "equations_unmapped_stub", "title": "未トレースの式カバー", "description": "E.003–E.039 のうち未トレースの式を暫定でカバーするプレースホルダ。今後 code_path と config_keys を精緻化する。", "scope": "module_default", "eq_ids": ["E.003", "E.004", "E.005", "E.009", "E.010", "E.011", "E.012", "E.020", "E.021", "E.022", "E.023", "E.024", "E.025", "E.026", "E.027", "E.028", "E.032", "E.033", "E.035", "E.039"], "assumption_tags": ["placeholder"], "config_keys": [], "code_path": [], "run_stage": [], "provenance": {"source_kind": "equation", "paper_key": null, "unknown_slug": "assumption:eq_unmapped_placeholder", "note": "to be refined with proper code anchors", "type": null}, "tests": [], "outputs": [], "status": "needs_ref", "last_checked": "2025-12-12"}
