# Mars Disk Simulation

> **ç«æ˜Ÿãƒ­ãƒƒã‚·ãƒ¥é™ç•Œå†…ãƒ€ã‚¹ãƒˆå††ç›¤ã®è¡çªãƒ»æ”¾å°„åœ§ãƒ»æ˜‡è¯éç¨‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**

---

## ğŸŒ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¤ã„ã¦

### ç§‘å­¦çš„èƒŒæ™¯

ç«æ˜Ÿã®è¡›æ˜Ÿãƒ•ã‚©ãƒœã‚¹ãƒ»ãƒ€ã‚¤ãƒ¢ã‚¹ã®èµ·æºã¯ã€å·¨å¤§è¡çªã«ã‚ˆã‚‹ç«æ˜Ÿå‘¨å›å††ç›¤ã‹ã‚‰å½¢æˆã•ã‚ŒãŸã¨ã™ã‚‹èª¬ãŒæœ‰åŠ›ã§ã™ï¼ˆRosenblatt 2011, Canup & Salmon 2018ï¼‰ã€‚æœ¬ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ãƒ­ãƒƒã‚·ãƒ¥é™ç•Œï¼ˆ~2.4 ç«æ˜ŸåŠå¾„ï¼‰å†…ã«å½¢æˆã•ã‚ŒãŸé«˜æ¸©ãƒ»é«˜å¯†åº¦ãƒ€ã‚¹ãƒˆå††ç›¤ã®æ™‚é–“é€²åŒ–ã‚’è¿½è·¡ã—ã¾ã™ã€‚

**3ã¤ã®ä¸»è¦éç¨‹ã‚’ãƒ¢ãƒ‡ãƒ«åŒ–:**

1. **è¡çªã‚«ã‚¹ã‚±ãƒ¼ãƒ‰** â€” ç²’å­åŒå£«ã®è¡çªã«ã‚ˆã‚‹ç ´ç •ãƒ»å†åˆ†å¸ƒ
2. **æ”¾å°„åœ§ blow-out** â€” ç«æ˜Ÿã‹ã‚‰ã®èµ¤å¤–æ”¾å°„ã«ã‚ˆã‚‹å°ç²’å­ã®å¹ãé£›ã°ã—
3. **æ˜‡è¯** â€” é«˜æ¸©ç’°å¢ƒã§ã®ç²’å­è’¸ç™º

### ä¸»ãªå‡ºåŠ›

- 2å¹´é–“ã®è³ªé‡æå¤±å±¥æ­´ $\dot{M}_{\rm out}(t)$ ã¨ç´¯ç©è³ªé‡æå¤± $M_{\rm loss}$
- ç²’å¾„åˆ†å¸ƒï¼ˆPSDï¼‰ã®æ™‚é–“ç™ºå±•
- blow-out å¢ƒç•Œã‚µã‚¤ã‚º $a_{\rm blow}$ ã®å‹•çš„å¤‰åŒ–

---

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰

```text
ã©ã“ã‹ã‚‰èª­ã‚€ã¹ãï¼Ÿ

â”Œâ”€ åˆã‚ã¦ã®æ–¹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   README.mdï¼ˆã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰                              â”‚
â”‚       â†“                                               â”‚
â”‚   analysis/config_guide.md â”€â”€â†’ è¨­å®šã®æ›¸ãæ–¹             â”‚
â”‚   ï¼ˆğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‹ã‚‰é–‹å§‹ï¼‰                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¨­å®šã‚’è©³ã—ãçŸ¥ã‚ŠãŸã„                                     â”‚
â”‚   analysis/config_guide.md â”€â”€â†’ å…¨è¨­å®šã‚­ãƒ¼ã®è§£èª¬         â”‚
â”‚   ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³3ä»¥é™ï¼‰                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç‰©ç†å¼ã‚’ç¢ºèªã—ãŸã„                                       â”‚
â”‚   analysis/equations.md â”€â”€â†’ å¼ã®ä¸€å…ƒç®¡ç†                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å®Ÿè¡Œæ‰‹é †ãƒ»ãƒ¬ã‚·ãƒ”                                         â”‚
â”‚   analysis/run-recipes.md â”€â”€â†’ ãƒ¢ãƒ¼ãƒ‰åˆ¥æ‰‹é †              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»å†…éƒ¨æ§‹é€                                  â”‚
â”‚   analysis/overview.md â”€â”€â†’ é–‹ç™ºè€…å‘ã‘è©³ç´°               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å¯¾è±¡èª­è€… | å†…å®¹ |
|-------------|---------|------|
| `README.md` | å…¨å“¡ | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ãƒ»ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ |
| `analysis/config_guide.md` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ | è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸ãæ–¹ãƒ»ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° |
| `analysis/equations.md` | ç ”ç©¶è€… | ç‰©ç†å¼ã®å®šç¾©ï¼ˆå”¯ä¸€ã®ã‚½ãƒ¼ã‚¹ï¼‰ |
| `analysis/run-recipes.md` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ | å®Ÿè¡Œãƒ¬ã‚·ãƒ”ãƒ»æ„Ÿåº¦è§£ææ‰‹é † |
| `analysis/overview.md` | é–‹ç™ºè€… | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ |
| `analysis/literature_map.md` | ç ”ç©¶è€… | æ–‡çŒ®ç´¢å¼•ãƒ»å…ˆè¡Œç ”ç©¶ã¨ã®å¯¾å¿œ |

---

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ä»®æƒ³ç’°å¢ƒï¼ˆæ¨å¥¨ï¼‰
python -m venv .venv && source .venv/bin/activate

# ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
pip install -r requirements.txt
```

### 2. æœ€åˆã®å®Ÿè¡Œ

```bash
# æ¨™æº–ã‚·ãƒŠãƒªã‚ªï¼ˆgas-poorã€è¡çªï¼‹blow-outï¼‹æ˜‡è¯ï¼‰
python -m marsdisk.run --config configs/scenarios/fiducial.yml
```

### 3. çµæœç¢ºèª

```bash
ls out/fiducial/
# series/run.parquet  - æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿
# summary.json        - é›†è¨ˆçµæœï¼ˆM_loss ãªã©ï¼‰
# checks/             - è³ªé‡ä¿å­˜æ¤œè¨¼ãƒ­ã‚°
```

> ğŸ’¡ **è©³ç´°ãªã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ**: `analysis/config_guide.md` ã®ã€ŒğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§

---

## ğŸ“– åŸºæœ¬çš„ãªä½¿ã„æ–¹

> **For AI Agents**: å¿…ãš [`analysis/AI_USAGE.md`](analysis/AI_USAGE.md) ã‚’èª­ã‚“ã§ã‹ã‚‰ä½œæ¥­ã—ã¦ãã ã•ã„ã€‚

### å‰æã¨ãƒ«ãƒ¼ãƒ«

- è§£æå¯¾è±¡ã¯ **gas-poor** ã®ç«æ˜Ÿãƒ­ãƒƒã‚·ãƒ¥å†…ãƒ€ã‚¹ãƒˆå††ç›¤
- Takeuchi & Lin (2003) ã¯æ—¢å®šã§ç„¡åŠ¹ï¼ˆ`ALLOW_TL2003=false`ï¼‰
- CLI ãƒ‰ãƒ©ã‚¤ãƒã¯ `python -m marsdisk.run --config <yaml>`
- âŸ¨Q_prâŸ© ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå¿…é ˆï¼ˆä¾‹: `data/qpr_table.csv`ï¼‰

---

## ğŸ›ï¸ ã‚·ãƒŠãƒªã‚ªåˆ¥ã‚³ãƒãƒ³ãƒ‰ä¾‹

| ã‚·ãƒŠãƒªã‚ª | ã‚³ãƒãƒ³ãƒ‰ä¾‹ |
| --- | --- |
| ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ï¼ˆæ˜‡è¯OFFï¼‰ | `python -m marsdisk.run --config configs/base.yml` |
| æ˜‡è¯ ON | `python -m marsdisk.run --config configs/base_sublimation.yml` |
| æ¨™æº–ã‚·ãƒŠãƒªã‚ª | `python -m marsdisk.run --config configs/scenarios/fiducial.yml` |
| é«˜æ¸©ã‚·ãƒŠãƒªã‚ª | `python -m marsdisk.run --config configs/scenarios/high_temp.yml` |
| è³ªé‡æå¤±ã‚¹ã‚¤ãƒ¼ãƒ—ãƒ™ãƒ¼ã‚¹ | `python -m marsdisk.run --config _configs/05_massloss_base.yml` |
| ã‚µãƒ–ãƒªãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³+å†·å´ï¼ˆWindowså‘ã‘ï¼‰ | `scripts/run_sublim_cooling_win.cmd` / `scripts/run_sublim_cooling.cmd` â€»ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡ºåŠ›ONï¼ˆio.streaming.*, merge_at_end=trueï¼‰ |

> ğŸ’¡ è¨­å®šã®ä¸Šæ›¸ã: `--override radiation.TM_K=5000`

---

## ğŸ“Š å‡ºåŠ›ãƒã‚§ãƒƒã‚¯

| å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ« | ç¢ºèªé …ç›® |
|-------------|---------|
| `series/run.parquet` | `M_out_dot`, `mass_lost_by_blowout`, `mass_lost_by_sinks` |
| `summary.json` | `case_status`, `mass_budget_max_error_percent`ï¼ˆâ‰¤0.5%ï¼‰ |
| `checks/mass_budget.csv` | è³ªé‡åæ”¯ã®æ¤œè¨¼ãƒ­ã‚° |

---

## ğŸ“– ã•ã‚‰ã«è©³ã—ã

| ç›®çš„ | å‚ç…§å…ˆ |
|------|--------|
| è¨­å®šã‚­ãƒ¼ã®è©³ç´°è§£èª¬ | `analysis/config_guide.md` |
| ãƒ¢ãƒ¼ãƒ‰åˆ¥ã®è©³ç´°æ‰‹é † | `analysis/run-recipes.md` |
| æ•°å¼ãƒ»ç‰©ç† | `analysis/equations.md` |
| ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ | `analysis/overview.md` |
| æ–‡çŒ®ç´¢å¼• | `analysis/literature_map.md` |

---

## ğŸ›ï¸ ç‰©ç†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¸€è¦§ï¼ˆæ¦‚è¦ï¼‰

ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§æŒ‡å®šå¯èƒ½ãªä¸»è¦ç‰©ç†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æ¦‚è¦ã§ã™ã€‚è©³ç´°ã¯ `analysis/config_guide.md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### æ”¾å°„ãƒ»æ¸©åº¦é–¢é€£ (`radiation`)

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | èª¬æ˜ | å…¸å‹å€¤ |
|-----------|------|--------|
| `radiation.TM_K` | ç«æ˜Ÿè¡¨é¢æ¸©åº¦ [K] | 4000 |
| `radiation.source` | æ”¾å°„æºï¼ˆ`"mars"` / `"off"`ï¼‰ | `"mars"` |
| `radiation.qpr_table_path` | âŸ¨Q_prâŸ©ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ‘ã‚¹ | `"data/qpr_table.csv"` |

### æ™‚å¤‰æ¸©åº¦ãƒ‰ãƒ©ã‚¤ãƒ (`radiation.mars_temperature_driver`)

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | èª¬æ˜ | å…¸å‹å€¤ |
|-----------|------|--------|
| `.enabled` | æ™‚å¤‰æ¸©åº¦ãƒ‰ãƒ©ã‚¤ãƒã®æœ‰åŠ¹åŒ– | `true` |
| `.mode` | `"constant"` / `"table"` | `"table"` |
| `.table.path` | æ¸©åº¦ãƒ†ãƒ¼ãƒ–ãƒ«CSVã®ãƒ‘ã‚¹ | `"data/mars_temperature_T4000p0K.csv"` |

### æ˜‡è¯é–¢é€£ (`sinks`)

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | èª¬æ˜ | å…¸å‹å€¤ |
|-----------|------|--------|
| `sinks.mode` | ã‚·ãƒ³ã‚¯æœ‰åŠ¹åŒ–ï¼ˆ`"none"` / `"sublimation"`ï¼‰ | `"sublimation"` |
| `sinks.sub_params.mode` | æ˜‡è¯ãƒ¢ãƒ‡ãƒ«ï¼ˆ`"logistic"` / `"hkl"`ï¼‰ | `"hkl"` |
| `sinks.sub_params.alpha_evap` | è’¸ç™ºä¿‚æ•° | 0.007 |
| `sinks.sub_params.mu` | åˆ†å­é‡ [kg/mol] | 0.044 |
| `sinks.sub_params.A` / `.B` | Clausius-Clapeyronä¿‚æ•° | 13.613 / 17850 |

### å††ç›¤ã‚¸ã‚ªãƒ¡ãƒˆãƒª (`disk.geometry`)

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | èª¬æ˜ | å…¸å‹å€¤ |
|-----------|------|--------|
| `r_in_RM` | å†…ç¸åŠå¾„ [MarsåŠå¾„] | 2.2 |
| `r_out_RM` | å¤–ç¸åŠå¾„ [MarsåŠå¾„] | 2.7 |

### ãã®ä»–ã®ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ã‚«ãƒ†ã‚´ãƒª | ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | èª¬æ˜ | å…¸å‹å€¤ |
|---------|-----------|------|--------|
| ç‰©è³ª | `material.rho` | ãƒãƒ«ã‚¯å¯†åº¦ [kg/mÂ³] | 3000 |
| ã‚µã‚¤ã‚º | `sizes.s_min` / `s_max` | ç²’å¾„ç¯„å›² [m] | 1e-6 / 3.0 |
| ã‚µã‚¤ã‚º | `sizes.n_bins` | å¯¾æ•°ãƒ“ãƒ³æ•° | 40 |
| PSD | `psd.alpha` | ã¹ãæŒ‡æ•° | 1.83 |
| åŠ›å­¦ | `dynamics.e0` / `i0` | é›¢å¿ƒç‡ãƒ»å‚¾æ–œè§’ | 0.5 / 0.05 |
| æ•°å€¤ | `numerics.t_end_years` | ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æœŸé–“ [yr] | 2.0 |

> ğŸ“– **å®Œå…¨ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¸€è¦§**: [`analysis/config_guide.md`](analysis/config_guide.md) ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³3ä»¥é™ã‚’å‚ç…§

---

---

## ğŸ”¬ ç‰©ç†ãƒ¢ãƒ‡ãƒ«ã®è©³ç´°

æœ¬ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ç«æ˜Ÿãƒ­ãƒƒã‚·ãƒ¥é™ç•Œå†…ï¼ˆ~2.4 ç«æ˜ŸåŠå¾„ï¼‰ã®é«˜æ¸©ãƒ€ã‚¹ãƒˆå††ç›¤ã‚’å¯¾è±¡ã«ã€**3ã¤ã®ä¸»è¦ç‰©ç†éç¨‹**ã‚’ã‚«ãƒƒãƒ—ãƒªãƒ³ã‚°ã—ã¦æ™‚é–“ç™ºå±•ã‚’è¿½è·¡ã—ã¾ã™ã€‚

### è¨ˆç®—ãƒ•ãƒ­ãƒ¼ã®å…¨ä½“åƒ

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å„ã‚¿ã‚¤ãƒ ã‚¹ãƒ†ãƒƒãƒ—ã®è¨ˆç®—é †åº                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â‘  æ¸©åº¦è©•ä¾¡ â†’ â‘¡ æ”¾å°„åœ§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ â†’ â‘¢ æ˜‡è¯ãƒ•ãƒ©ãƒƒã‚¯ã‚¹                    â”‚
â”‚       â†“              â†“                    â†“                         â”‚
â”‚     T_M(t)      âŸ¨Q_prâŸ©, Î², a_blow        J(T)                       â”‚
â”‚                      â†“                    â†“                         â”‚
â”‚              â‘£ å…‰å­¦æ·±åº¦ & è‡ªé®è”½     â‘¤ ã‚·ãƒ³ã‚¯æ™‚é–“                     â”‚
â”‚                   Ï„, Î¦(Ï„)              t_sink                       â”‚
â”‚                      â†“                    â†“                         â”‚
â”‚              â‘¥ è¡¨å±¤è³ªé‡ãƒ•ãƒ©ãƒƒã‚¯ã‚¹è©•ä¾¡                                  â”‚
â”‚                 Î£_surf, á¹€_out, Î¦_sink                               â”‚
â”‚                      â†“                                              â”‚
â”‚              â‘¦ IMEX-BDF(1) æ™‚é–“ç©åˆ†                                  â”‚
â”‚                      â†“                                              â”‚
â”‚              â‘§ è³ªé‡åæ”¯æ¤œæŸ» & è¨ºæ–­è¨˜éŒ²                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 1. æ”¾å°„åœ§ãƒ–ãƒ­ãƒ¼ã‚¢ã‚¦ãƒˆï¼ˆRadiation Pressure Blow-outï¼‰

ç«æ˜Ÿã‹ã‚‰ã®èµ¤å¤–æ”¾å°„ãŒå°ç²’å­ã«ä½œç”¨ã—ã€æ”¾å°„åœ§ãŒé‡åŠ›ã‚’ä¸Šå›ã‚‹ã¨ç²’å­ã¯å††ç›¤å¤–ã¸å¹ãé£›ã°ã•ã‚Œã¾ã™ã€‚

#### æ¦‚å¿µ

- ç«æ˜Ÿè¡¨é¢æ¸©åº¦ $T_{\rm M}$ ã‹ã‚‰ã®é»’ä½“æ”¾å°„ãŒç²’å­ã‚’åŠ ç†±
- ç²’å­ã‚µã‚¤ã‚ºãŒå°ã•ã„ã»ã© $\beta$ï¼ˆæ”¾å°„åœ§/é‡åŠ›æ¯”ï¼‰ãŒå¤§ãããªã‚‹
- $\beta > 0.5$ ã®ç²’å­ã¯è„±å‡ºè»Œé“ã«ä¹—ã‚Šã€å††ç›¤ã‹ã‚‰å¤±ã‚ã‚Œã‚‹

#### ä»£è¡¨å¼

**æ”¾å°„åœ§/é‡åŠ›æ¯” Î²** (E.013):
$$
\beta = \frac{3\,\sigma_{\rm SB}\,T_{\rm M}^{4}\,R_{\rm M}^{2}\,\langle Q_{\rm pr}\rangle}{4\,G\,M_{\rm M}\,c\,\rho\,s}
$$

**ãƒ–ãƒ­ãƒ¼ã‚¢ã‚¦ãƒˆå¢ƒç•Œã‚µã‚¤ã‚º a_blow** (E.014, $\beta = 0.5$ ã¨ãªã‚‹ã‚µã‚¤ã‚º):
$$
a_{\rm blow} = \frac{3\,\sigma_{\rm SB}\,T_{\rm M}^{4}\,R_{\rm M}^{2}\,\langle Q_{\rm pr}\rangle}{2\,G\,M_{\rm M}\,c\,\rho}
$$

**è¡¨å±¤å¤–å‘ããƒ•ãƒ©ãƒƒã‚¯ã‚¹** (E.009):
$$
\dot{M}_{\rm out} = \Sigma_{\rm surf}\,\Omega
$$

| è¨˜å· | æ„å‘³ | å˜ä½ | å…¸å‹å€¤ |
|------|------|------|--------|
| $\sigma_{\rm SB}$ | Stefan-Boltzmann å®šæ•° | W mâ»Â² Kâ»â´ | $5.67 \times 10^{-8}$ |
| $T_{\rm M}$ | ç«æ˜Ÿè¡¨é¢æ¸©åº¦ | K | 2000â€“6000 |
| $R_{\rm M}$ | ç«æ˜ŸåŠå¾„ | m | $3.39 \times 10^{6}$ |
| $\langle Q_{\rm pr}\rangle$ | Planckå¹³å‡æ”¾å°„åœ§åŠ¹ç‡ | â€” | 0.5â€“1.5 |
| $\rho$ | ç²’å­å¯†åº¦ | kg mâ»Â³ | 3000 |
| $s$ | ç²’å­åŠå¾„ | m | $10^{-6}$â€“3 |
| $\Omega$ | ã‚±ãƒ—ãƒ©ãƒ¼è§’é€Ÿåº¦ | rad sâ»Â¹ | $\sqrt{GM_{\rm M}/r^3}$ |

#### é‡è¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

- `radiation.TM_K`: ç«æ˜Ÿè¡¨é¢æ¸©åº¦ï¼ˆé«˜ã„ã»ã© $a_{\rm blow}$ ãŒå¤§ãããªã‚‹ï¼‰
- `blowout.enabled`: ãƒ–ãƒ­ãƒ¼ã‚¢ã‚¦ãƒˆæå¤±ã®æœ‰åŠ¹/ç„¡åŠ¹
- `blowout.chi_blow`: ãƒ–ãƒ­ãƒ¼ã‚¢ã‚¦ãƒˆæ»åœ¨æ™‚é–“ä¿‚æ•°ï¼ˆ$t_{\rm blow} = \chi/\Omega$ï¼‰

---

### 2. æ˜‡è¯ï¼ˆSublimationï¼‰

é«˜æ¸©ç’°å¢ƒã§ã¯ç²’å­è¡¨é¢ã‹ã‚‰ã®è’¸ç™ºãŒé€²ã¿ã€è³ªé‡æå¤±ã®åŸå› ã¨ãªã‚Šã¾ã™ã€‚

#### æ˜‡è¯ã®æ¦‚å¿µ

- ç²’å­æ¸©åº¦ãŒè’¸ç™ºæ¸©åº¦ã‚’è¶…ãˆã‚‹ã¨è¡¨é¢ã‹ã‚‰ç‰©è³ªãŒè’¸ç™º
- Hertzâ€“Knudsenâ€“Langmuir (HKL) å¼ã§è³ªé‡ãƒ•ãƒ©ãƒƒã‚¯ã‚¹ã‚’è©•ä¾¡
- ä¸»æˆåˆ† SiO ã®è’¸æ°—åœ§ã§æ”¯é…ï¼ˆgas-poor æ¡ä»¶ã§ã¯ $P_{\rm gas} \approx 0$ï¼‰

#### æ˜‡è¯ã®ä»£è¡¨å¼

**HKL è³ªé‡ãƒ•ãƒ©ãƒƒã‚¯ã‚¹** (E.018):
$$
J(T) = \alpha_{\rm evap}\left(P_{\rm sat}(T) - P_{\rm gas}\right)\sqrt{\frac{\mu}{2\pi R T}}
$$

**Clausius-Clapeyron å‹è’¸æ°—åœ§** (E.036):
$$
P_{\rm sat}(T) = 10^{A - B/T}
$$

**æ˜‡è¯ã«ã‚ˆã‚‹æå¤±ç²’å¾„ã‚¹ã‚±ãƒ¼ãƒ«** (E.019):
$$
s_{\rm sink} = \frac{\eta_{\rm instant}\,t_{\rm ref}\,J(T)}{\rho}
$$

| è¨˜å· | æ„å‘³ | å˜ä½ | å…¸å‹å€¤ |
|------|------|------|--------|
| $\alpha_{\rm evap}$ | è’¸ç™ºä¿‚æ•° | â€” | 0.007 |
| $P_{\rm sat}$ | é£½å’Œè’¸æ°—åœ§ | Pa | æ¸©åº¦ä¾å­˜ |
| $P_{\rm gas}$ | å‘¨å›²è’¸æ°—åœ§ | Pa | 0ï¼ˆgas-poorï¼‰ |
| $\mu$ | åˆ†å­é‡ | kg molâ»Â¹ | 0.044 (SiO) |
| $R$ | æ°—ä½“å®šæ•° | J molâ»Â¹ Kâ»Â¹ | 8.314 |
| $A, B$ | Clausiusä¿‚æ•° | â€”, K | 13.613, 17850 |
| $\eta_{\rm instant}$ | å³æ™‚è’¸ç™ºé–¾å€¤ | â€” | 0.1 |

#### æ˜‡è¯ã®é‡è¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

- `sinks.mode`: `"sublimation"` ã§æ˜‡è¯ã‚’æœ‰åŠ¹åŒ–
- `sinks.sub_params.mode`: `"hkl"`ï¼ˆç‰©ç†çš„ï¼‰or `"logistic"`ï¼ˆç°¡æ˜“ï¼‰
- `sinks.sub_params.psat_model`: `"clausius"` or `"tabulated"`

---

### 3. è¡çªã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ï¼ˆCollision Cascadeï¼‰

ç²’å­åŒå£«ã®è¡çªã«ã‚ˆã‚Šç ´ç •ãŒé€²ã¿ã€å¤§ããªç²’å­ã‹ã‚‰å°ã•ãªç²’å­ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

#### è¡çªã®æ¦‚å¿µ

- å¤§ç²’å­åŒå£«ã®è¡çªã§ç ´ç‰‡ãŒç”Ÿæˆã•ã‚Œã‚‹ï¼ˆSmoluchowski æ–¹ç¨‹å¼ï¼‰
- è¡çªã«ã‚ˆã‚Šç”Ÿæˆã•ã‚ŒãŸå°ç²’å­ãŒãƒ–ãƒ­ãƒ¼ã‚¢ã‚¦ãƒˆã‚µã‚¤ã‚ºä»¥ä¸‹ãªã‚‰å³åº§ã«å¤±ã‚ã‚Œã‚‹

#### è¡çªã®ä»£è¡¨å¼

**Smoluchowski æ–¹ç¨‹å¼** (E.010):
$$
\dot{N}_k = \frac{1}{2}\sum_{i,j} K_{ij}\,N_i N_j\,Y_{kij} - N_k\sum_j K_{kj}N_j + f_k
$$

**è¡çªã‚«ãƒ¼ãƒãƒ«** (E.024):
$$
C_{ij} = \frac{N_i N_j}{1+\delta_{ij}}\,\frac{\pi(s_i+s_j)^{2}\,v_{ij}}{\sqrt{2\pi}\,H_{ij}}
$$

**è¡çªå¯¿å‘½ï¼ˆWyatt ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ï¼‰** (E.006):
$$
t_{\rm coll} = \frac{1}{\Omega\,\tau_{\perp}}
$$

**IMEX-BDF(1) æ™‚é–“ç©åˆ†** (E.010):
$$
N_i^{n+1} = \frac{N_i^{n} + \Delta t(G_i - S_i)}{1 + \Delta t\,\Lambda_i}
$$

| è¨˜å· | æ„å‘³ | å˜ä½ |
|------|------|------|
| $N_k$ | ãƒ“ãƒ³ $k$ ã®æ•°å¯†åº¦ | mâ»Â² |
| $K_{ij}$ | è¡çªã‚«ãƒ¼ãƒãƒ« | sâ»Â¹ |
| $Y_{kij}$ | ç ´ç‰‡åˆ†é…ä¿‚æ•° | â€” |
| $f_k$ | ã‚½ãƒ¼ã‚¹/ã‚·ãƒ³ã‚¯é … | mâ»Â² sâ»Â¹ |
| $v_{ij}$ | ç›¸å¯¾é€Ÿåº¦ | m sâ»Â¹ |
| $H_{ij}$ | é‰›ç›´ã‚¹ã‚±ãƒ¼ãƒ«é«˜ | m |
| $\tau_{\perp}$ | é‰›ç›´å…‰å­¦æ·±åº¦ | â€” |

#### è¡çªã®é‡è¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

- `sizes.n_bins`: ç²’å¾„ãƒ“ãƒ³æ•°ï¼ˆ30â€“60ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ40ï¼‰
- `psd.alpha`: ç ´ç‰‡åˆ†å¸ƒã®ã¹ãæŒ‡æ•°
- `dynamics.e0`, `dynamics.i0`: é›¢å¿ƒç‡ãƒ»å‚¾æ–œè§’ï¼ˆç›¸å¯¾é€Ÿåº¦ã«å½±éŸ¿ï¼‰

---

### ç‰©ç†éç¨‹ã®ç›¸äº’ä½œç”¨

3ã¤ã®éç¨‹ã¯å¯†æ¥ã«çµåˆã—ã¦ã„ã¾ã™ï¼š

```text
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                    è¡çªã‚«ã‚¹ã‚±ãƒ¼ãƒ‰                         â”‚
     â”‚   å¤§ç²’å­ â†’ ç ´ç • â†’ å°ç²’å­ç”Ÿæˆï¼ˆprod_subblow_area_rateï¼‰     â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚              è¡¨å±¤ã¸ã®å°ç²’å­ä¾›çµ¦                            â”‚
     â”‚        s < a_blow ã®ç²’å­ãŒè¡¨å±¤ã«è“„ç©                       â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                             â”‚
            â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ”¾å°„åœ§ãƒ–ãƒ­ãƒ¼ã‚¢ã‚¦ãƒˆ    â”‚     â”‚          æ˜‡è¯                   â”‚
â”‚   Î² > 0.5 ã§å¹ãé£›ã³   â”‚     â”‚   é«˜æ¸©ã§è’¸ç™º (HKL ãƒ•ãƒ©ãƒƒã‚¯ã‚¹)    â”‚
â”‚   á¹€_out = Î£_surf Ã— Î©  â”‚     â”‚   Î¦_sink = Î£_surf / t_sink     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                             â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚     ç·è³ªé‡æå¤±ç‡        â”‚
              â”‚  M_loss = M_out + M_sinkâ”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è‡ªé®è”½åŠ¹æœï¼ˆSelf-Shieldingï¼‰

å…‰å­¦çš„ã«åšã„å††ç›¤ã§ã¯ã€è¡¨å±¤ã®ã¿ãŒæ”¾å°„ã‚’å—ã‘ã¾ã™ï¼š

**æœ‰åŠ¹ä¸é€æ˜åº¦** (E.015):
$$
\kappa_{\rm eff} = \Phi(\tau)\,\kappa_{\rm surf}
$$

**Ï„=1 è¡¨å±¤è³ªé‡** (E.016):
$$
\Sigma_{\tau=1} = \kappa_{\rm eff}^{-1}
$$

- $\Phi(\tau)$: è‡ªé®è”½ä¿‚æ•°ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«è£œé–“ï¼‰
- è¡¨å±¤å¯†åº¦ã¯ $\min(\Sigma_{\rm surf}, \Sigma_{\tau=1})$ ã§ã‚¯ãƒªãƒƒãƒ—

---

### è³ªé‡åæ”¯ã®æ¤œè¨¼

ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯è³ªé‡ä¿å­˜ã‚’å¸¸æ™‚ç›£è¦–ã—ã¾ã™ (E.011):

$$
\epsilon_{\rm mass} = \frac{|M^{n+1} + \Delta t\,\dot{m}_{<a_{\rm blow}} - M^{n}|}{M^{n}} < 0.5\%
$$

å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ« `checks/mass_budget.csv` ã«å„ã‚¹ãƒ†ãƒƒãƒ—ã®èª¤å·®ã‚’è¨˜éŒ²ã€‚

---

### å‡ºåŠ›ã•ã‚Œã‚‹ä¸»è¦ãªç‰©ç†é‡

| ã‚«ãƒ©ãƒ å | æ„å‘³ | å˜ä½ |
|----------|------|------|
| `a_blow` | ãƒ–ãƒ­ãƒ¼ã‚¢ã‚¦ãƒˆå¢ƒç•Œã‚µã‚¤ã‚º | m |
| `beta_at_smin` | æœ€å°ç²’å¾„ã§ã® Î² | â€” |
| `prod_subblow_area_rate` | ã‚µãƒ–ãƒ–ãƒ­ãƒ¼ã‚¢ã‚¦ãƒˆç”Ÿæˆç‡ | kg mâ»Â² sâ»Â¹ |
| `M_out_dot` | è¡¨å±¤å¤–å‘ããƒ•ãƒ©ãƒƒã‚¯ã‚¹ | kg mâ»Â² sâ»Â¹ |
| `mass_lost_by_blowout` | ãƒ–ãƒ­ãƒ¼ã‚¢ã‚¦ãƒˆç´¯ç©æå¤± | kg |
| `mass_lost_by_sinks` | æ˜‡è¯ç´¯ç©æå¤± | kg |
| `tau_eff` | æœ‰åŠ¹å…‰å­¦æ·±åº¦ | â€” |
| `kappa_Planck` | Planckå¹³å‡ä¸é€æ˜åº¦ | mÂ² kgâ»Â¹ |

> ğŸ“ **è©³ç´°ãªå¼å®šç¾©**: [`analysis/equations.md`](analysis/equations.md)  
> ğŸ”„ **è¨ˆç®—ãƒ•ãƒ­ãƒ¼å›³**: [`analysis/physics_flow.md`](analysis/physics_flow.md)  
> ğŸ“š **æ–‡çŒ®ã¨ã®å¯¾å¿œ**: [`analysis/literature_map.md`](analysis/literature_map.md)

---

## ğŸ“œ å‚è€ƒæ–‡çŒ®

- Hyodo et al. (2017, 2018): gas-poor ä»®å®šã®æ ¹æ‹ 
- Canup & Salmon (2018): è¡›æ˜Ÿå½¢æˆã‚·ãƒŠãƒªã‚ª
- Leinhardt & Stewart (2012): ç ´ç •å¼·åº¦ãƒ¢ãƒ‡ãƒ«
- Strubbe & Chiang (2006): æ”¾å°„åœ§æ”¯é…ã®æåƒ
- Burns et al. (1979): æ”¾å°„åœ§ Î² ã®å®šç¾©
- Wyatt (2008): è¡çªå¯¿å‘½ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- Krivov et al. (2006): Smoluchowski æ–¹ç¨‹å¼ã®å®Ÿè£…
- Pignatale et al. (2018): HKL æ˜‡è¯ãƒ¢ãƒ‡ãƒ«
